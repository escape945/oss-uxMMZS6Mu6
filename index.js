const _0x6408e3=_0x3142;function _0x1a91(){const _0x5454f8=['请求错误:\x20','7tiCVnY','setHeader','1029864qzKXzV','statusCode','header','post','url','DELETE','content-type','https://','use','substring','disable','toString','404\x20Not\x20Found','status','mode','https://api.v2rayse.com/api/oss','649195LubSLu','151501cWiItS','962584WUCcPk','push','random','/setFile','exports','/generate_204','2229444udOSJV','https','x-powered-by','pad','4hbsESo','GET','ECB','text/plain','119145GIXevw','Access-Control-Allow-Methods','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/103.0.0.0\x20Safari/537.36','error','get','express','X_PORT','RENDER_EXTERNAL_HOSTNAME','log','concat','text','application/json','body','crypto-js','AES','listen','plr4EY25bk1HbC6a+W76TQ==','Server\x20listening\x20on\x20port\x20','208474zHpWMe','json','parse','/delFile','GET,HEAD,POST,PUT,DELETE,CONNECT,OPTIONS,TRACE,PATCH','/getFile','ceil','An\x20error\x20occurred','encrypt','env','send','version','end','/version','stringify'];_0x1a91=function(){return _0x5454f8;};return _0x1a91();}(function(_0x878c53,_0x488878){const _0x1972d6=_0x3142,_0x5c1fdf=_0x878c53();while(!![]){try{const _0x423236=parseInt(_0x1972d6(0xd5))/0x1+parseInt(_0x1972d6(0xf6))/0x2+parseInt(_0x1972d6(0xe4))/0x3+parseInt(_0x1972d6(0xe0))/0x4*(-parseInt(_0x1972d6(0xd4))/0x5)+-parseInt(_0x1972d6(0x108))/0x6+parseInt(_0x1972d6(0x106))/0x7*(-parseInt(_0x1972d6(0xd6))/0x8)+parseInt(_0x1972d6(0xdc))/0x9;if(_0x423236===_0x488878)break;else _0x5c1fdf['push'](_0x5c1fdf['shift']());}catch(_0x299f14){_0x5c1fdf['push'](_0x5c1fdf['shift']());}}}(_0x1a91,0x1da13));const cryptoJS=require(_0x6408e3(0xf1)),listen_port=process[_0x6408e3(0xff)][_0x6408e3(0xea)]||0xbb8,proxy_address='',api_address=_0x6408e3(0xd3),user_agent=_0x6408e3(0xe6);function getCfVerify(){const _0x4e80e5=_0x6408e3;return cryptoJS[_0x4e80e5(0xf2)][_0x4e80e5(0xfe)](Date['now']()[_0x4e80e5(0xcf)](),cryptoJS['enc']['Base64']['parse'](_0x4e80e5(0xf4)),{'mode':cryptoJS[_0x4e80e5(0xd2)][_0x4e80e5(0xe2)],'padding':cryptoJS[_0x4e80e5(0xdf)]['Pkcs7']})['toString']();}async function getList(_0x38768b){const _0x167263=_0x6408e3;if(!_0x38768b)return;let _0xd696e1=await(await fetch(proxy_address+api_address+'/'+_0x38768b,{'method':_0x167263(0xe1),'headers':{'cf-verify':getCfVerify(),'User-Agent':user_agent}}))[_0x167263(0xf7)]();return _0xd696e1;}async function getFile(_0x156704){const _0x4be440=_0x6408e3;if(!_0x156704)return;let _0x537fcb=await(await fetch(proxy_address+_0x156704,{'method':'GET','headers':{'User-Agent':user_agent}}))[_0x4be440(0xee)]();return _0x537fcb;}function _0x3142(_0x2ac926,_0xeaf24a){const _0x1a91fc=_0x1a91();return _0x3142=function(_0x314275,_0x509068){_0x314275=_0x314275-0xc8;let _0x3c653e=_0x1a91fc[_0x314275];return _0x3c653e;},_0x3142(_0x2ac926,_0xeaf24a);}async function setFile(_0x8acc34,_0x342036,_0x2d3667,_0x54f150){const _0xdf2ff2=_0x6408e3;if(!_0x8acc34||!_0x342036||!_0x2d3667||!_0x54f150)return;let _0x41f44d={'id':null,'name':_0x2d3667,'folder':_0x342036,'content':_0x54f150,'password':_0x8acc34},_0x15a7fa=await(await fetch(proxy_address+api_address,{'method':'POST','headers':{'cf-verify':getCfVerify(),'User-Agent':user_agent,'Content-Type':_0xdf2ff2(0xef)},'body':JSON[_0xdf2ff2(0x104)](_0x41f44d)}))[_0xdf2ff2(0xf7)]();return _0x15a7fa;}async function delFile(_0x59a09c,_0x180d47,_0x32845b){const _0x5da206=_0x6408e3;if(!_0x59a09c||!_0x180d47||!_0x32845b)return;let _0x4f6932={'id':null,'name':_0x32845b,'folder':_0x180d47,'password':_0x59a09c},_0x226108=await(await fetch(proxy_address+api_address,{'method':_0x5da206(0xc9),'headers':{'cf-verify':getCfVerify(),'User-Agent':user_agent,'Content-Type':_0x5da206(0xef)},'body':JSON[_0x5da206(0x104)](_0x4f6932)}))['json']();return _0x226108;}module[_0x6408e3(0xda)]={'getList':getList,'getFile':getFile,'setFile':setFile,'delFile':delFile};const express=require(_0x6408e3(0xe9)),compression=require('compression'),app=express();app[_0x6408e3(0xce)](_0x6408e3(0xde)),app[_0x6408e3(0xcc)](compression()),app['use']((_0x53bc82,_0x17192a,_0x2bdb76)=>{const _0x118ef0=_0x6408e3;_0x17192a['setHeader'](_0x118ef0(0xe5),_0x118ef0(0xfa)),_0x17192a[_0x118ef0(0x107)]('Access-Control-Allow-Origin','*'),_0x2bdb76();}),app[_0x6408e3(0xe8)](_0x6408e3(0x103),(_0x2d975e,_0x1f0eef)=>{const _0x3a1772=_0x6408e3;_0x1f0eef['status'](0xc8)[_0x3a1772(0x10a)]({'Content-Type':_0x3a1772(0xe3)}),_0x1f0eef[_0x3a1772(0x102)](process[_0x3a1772(0x101)]);}),app[_0x6408e3(0xe8)](_0x6408e3(0xdb),(_0x308c47,_0x2dd310)=>{const _0x230946=_0x6408e3;_0x2dd310[_0x230946(0xd1)](0xcc),_0x2dd310[_0x230946(0x102)]('');}),app['use']((_0x3c6a71,_0x56a1f8,_0x29c72d)=>{let _0x4cc7ae=[];_0x3c6a71['on']('data',_0x4371f8=>{const _0x5dd789=_0x3142;_0x4cc7ae[_0x5dd789(0xd7)](_0x4371f8);}),_0x3c6a71['on']('end',()=>{const _0x34fc71=_0x3142;_0x3c6a71[_0x34fc71(0xf0)]=Buffer[_0x34fc71(0xed)](_0x4cc7ae),_0x29c72d();});}),app[_0x6408e3(0xcc)]('/getList',async(_0x31fa25,_0x49e32c)=>{const _0x4c2434=_0x6408e3;try{const _0x1710fa=_0x31fa25[_0x4c2434(0xc8)]['substring'](0x1),_0x2afc60=await getList(_0x1710fa);_0x49e32c[_0x4c2434(0x100)](_0x2afc60);}catch(_0x3fbe50){_0x49e32c[_0x4c2434(0xd1)](0x1f4)[_0x4c2434(0x100)]({'error':'An\x20error\x20occurred'});}}),app[_0x6408e3(0xcc)](_0x6408e3(0xfb),async(_0x42428c,_0x2f59d2)=>{const _0x402a55=_0x6408e3;try{_0x2f59d2[_0x402a55(0x10a)](_0x402a55(0xca),_0x402a55(0xe3));const _0xfbd39a=_0x42428c['url'][_0x402a55(0xcd)](0x1),_0x280883=await getFile(_0xfbd39a);_0x2f59d2[_0x402a55(0x100)](_0x280883);}catch(_0x1df65c){_0x2f59d2[_0x402a55(0xd1)](0x1f4)[_0x402a55(0x100)]({'error':_0x402a55(0xfd)});}}),app['post'](_0x6408e3(0xd9),async(_0x32fabd,_0x36e42e)=>{const _0xc3dbf2=_0x6408e3;try{const {password:_0x363ef4,folder:_0x5a849c,name:_0xc1a73e,content:_0xba8746}=JSON[_0xc3dbf2(0xf8)](_0x32fabd['body']),_0x4c2c1d=await setFile(_0x363ef4,_0x5a849c,_0xc1a73e,_0xba8746);_0x36e42e[_0xc3dbf2(0x100)](_0x4c2c1d);}catch(_0x275e12){_0x36e42e[_0xc3dbf2(0xd1)](0x1f4)[_0xc3dbf2(0x100)]({'error':_0xc3dbf2(0xfd)});}}),app[_0x6408e3(0x10b)](_0x6408e3(0xf9),async(_0x140812,_0x1dc398)=>{const _0x16d3f9=_0x6408e3;try{const {password:_0x2301f0,folder:_0x18d54e,name:_0x17200e}=JSON['parse'](_0x140812[_0x16d3f9(0xf0)]),_0x42bcd6=await delFile(_0x2301f0,_0x18d54e,_0x17200e);_0x1dc398[_0x16d3f9(0x100)](_0x42bcd6);}catch(_0x461b9f){_0x1dc398[_0x16d3f9(0xd1)](0x1f4)[_0x16d3f9(0x100)]({'error':_0x16d3f9(0xfd)});}}),app[_0x6408e3(0xcc)]((_0x335f7e,_0x5948e8)=>{const _0x26aa29=_0x6408e3;_0x5948e8[_0x26aa29(0xd1)](0x194)[_0x26aa29(0x10a)]({'Content-Type':'text/plain'}),_0x5948e8[_0x26aa29(0x102)](_0x26aa29(0xd0));}),app[_0x6408e3(0xf3)](listen_port,()=>{const _0x391612=_0x6408e3;console[_0x391612(0xec)](_0x391612(0xf5)+listen_port);});const https=require(_0x6408e3(0xdd));keepalive();function keepalive(){const _0x40bfba=_0x6408e3;let _0x1b5d40='';_0x1b5d40=process[_0x40bfba(0xff)][_0x40bfba(0xeb)],https[_0x40bfba(0xe8)](_0x40bfba(0xcb)+_0x1b5d40+_0x40bfba(0xdb),_0x575d99=>{const _0x4fbdbf=_0x40bfba;if(_0x575d99['statusCode']==0xcc){}else console[_0x4fbdbf(0xec)]('请求错误:\x20'+_0x575d99[_0x4fbdbf(0x109)]);})['on'](_0x40bfba(0xe7),_0x1d42e1=>{const _0x314615=_0x40bfba;console[_0x314615(0xec)](_0x314615(0x105)+_0x1d42e1);}),setTimeout(()=>{keepalive();},Math[_0x40bfba(0xfc)](Math[_0x40bfba(0xd8)]()*0xf));}
